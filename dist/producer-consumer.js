(()=>{var e={8439:(e,t,n)=>{"use strict";n.d(t,{Gx:()=>f,YN:()=>c,ZI:()=>i,_7:()=>s,dP:()=>u,pw:()=>a});var r=n(883),o=n(8658);const s=(r.A.thread,!0!==o.TK.CHEAP_DISABLE_PTHREAD);let i=16,a=1048576;const u=1024,c=o.TK.CHEAP_HEAP_INITIAL??256,f=32768},9761:(e,t,n)=>{"use strict";n.d(t,{$:()=>s,f:()=>o});var r=n(5533);const o={4:function(e){throw new Error("unimplemented")},5:function(e){throw new Error("unimplemented")},2:function(e){throw new Error("unimplemented")},3:function(e){throw new Error("unimplemented")},6:function(e){throw new Error("unimplemented")},7:function(e){throw new Error("unimplemented")},8:function(e){throw new Error("unimplemented")},9:function(e){throw new Error("unimplemented")},10:function(e){throw new Error("unimplemented")},11:function(e){throw new Error("unimplemented")},12:function(e){throw new Error("unimplemented")},13:function(e){throw new Error("unimplemented")},14:function(e){throw new Error("unimplemented")},15:function(e){throw new Error("unimplemented")},16:function(e){throw new Error("unimplemented")},17:function(e){throw new Error("unimplemented")},18:function(e){throw new Error("unimplemented")},19:function(e){throw new Error("unimplemented")},20:function(e){throw new Error("unimplemented")},0:function(e){throw new Error("invalid operate")},1:function(e){throw new Error("invalid operate")},22:function(e){throw new Error("invalid operate")},21:function(e){throw new Error("invalid operate")}};function s(e){r.X$(o,e)}},4402:(e,t,n)=>{"use strict";n.d(t,{$:()=>s,M:()=>o});var r=n(5533);const o={4:function(e,t){throw new Error("unimplemented")},5:function(e,t){throw new Error("unimplemented")},2:function(e,t){throw new Error("unimplemented")},3:function(e,t){throw new Error("unimplemented")},6:function(e,t){throw new Error("unimplemented")},7:function(e,t){throw new Error("unimplemented")},8:function(e,t){throw new Error("unimplemented")},9:function(e,t){throw new Error("unimplemented")},10:function(e,t){throw new Error("unimplemented")},11:function(e,t){throw new Error("unimplemented")},12:function(e,t){throw new Error("unimplemented")},13:function(e,t){throw new Error("unimplemented")},14:function(e,t){throw new Error("unimplemented")},15:function(e,t){throw new Error("unimplemented")},16:function(e,t){throw new Error("unimplemented")},17:function(e,t){throw new Error("unimplemented")},18:function(e,t){throw new Error("unimplemented")},19:function(e,t){throw new Error("unimplemented")},20:function(e,t){throw new Error("unimplemented")},0:function(e,t){throw new Error("invalid operate")},1:function(e,t){throw new Error("invalid operate")},22:function(e,t){throw new Error("invalid operate")},21:function(e,t){throw new Error("invalid operate")}};function s(e){r.X$(o,e)}},4585:(e,t,n)=>{"use strict";n.d(t,{l:()=>C});var r=n(8519),o=n(9761),s=n(4402),i=n(3669),a=n(790),u=n(3818),c=n(5533),f=n(7186),l=n(397);function h(e,t,n,r){Object.defineProperty(e,t,{get:n,set:r,configurable:!0,enumerable:!0})}function p(e){return function(){return o.f[20](e())}}function d(e,t,n,r){return function(){return e[`__$__${t}`]||(e[`__$__${t}`]=C(n(),r))}}function A(e,t){return function(){return o.f[t](e())}}function m(e,t,n,r){const s=8*a.i[t]-r-n,i=Math.pow(2,n)-1;return function(){return o.f[t](e())>>>s&i}}function g(e){return function(t){s.M[8](e(),t)}}function y(e,t,n,r){const o=`__$__${t}`;return function(t){const s=e[o]||(e[o]=C(n(),r));c.__(t,((e,t)=>{s[t]=e})),e[o]=s}}function w(e,t){return function(n){s.M[t](e(),n)}}function _(e,t,n,r){let i=0,u=8*a.i[t];for(let e=0;e<n;e++)i|=1<<u-1-(e+r);const c=Math.pow(2,n)-1,f=u-r-n;return function(n){const r=e(),a=o.f[t](r);s.M[t](r,a&~i|(n&c)<<f)}}function b(e,t,n){return function(){const r=t[`__$__${n}`];return r[i.o9]=e(),r}}function x(e,t,n,o,s){const a=`__$__${t}`;return function(t){let u=e[a]||function(e,t,n){const o={};let s=(0,r.A)(n);for(let r=0;r<t;r++){const t=(0,f.A)(r);h(o,t,d(o,t,(()=>e()+s*r),n),y(o,t,(()=>e()+s*r),n))}return o}(n,o,s);u[i.o9]=n(),l.__(t,((e,t)=>{u[t]=e})),e[a]=u}}function k(e,t,n,o,s){const a=`__$__${t}`;return function(t){let u=e[a]||function(e,t,n){const o={};let s=(0,r.A)(n);for(let r=0;r<t;r++)h(o,(0,f.A)(r),A((()=>e()+s*r),n),w((()=>e()+s*r),n));return o}(n,o,s);u[i.o9]=n(),l.__(t,((e,t)=>{u[t]=e})),e[a]=u}}function C(e,t){let n=u.Pc(t)?t.prototype:t;const r={};for(r[i.o9]=e,Object.setPrototypeOf(r,n);;){let e=n[i.JY];if(e&&e.forEach(((e,t)=>{e[3]?e[1]?h(r,t,b((()=>r[i.o9]+e[7]),r,t),k(r,t,(()=>r[i.o9]+e[7]),e[4],20)):u.Pc(e[0])||u.Ik(e[0])?h(r,t,b((()=>r[i.o9]+e[7]),r,t),x(r,t,(()=>r[i.o9]+e[7]),e[4],e[0])):h(r,t,b((()=>r[i.o9]+e[7]),r,t),k(r,t,(()=>r[i.o9]+e[7]),e[4],e[0])):e[1]?h(r,t,p((()=>r[i.o9]+e[7])),g((()=>r[i.o9]+e[7]))):u.Pc(e[0])||u.Ik(e[0])?h(r,t,d(r,t,(()=>r[i.o9]+e[7]),e[0]),y(r,t,(()=>r[i.o9]+e[7]),e[0])):e[5]?h(r,t,m((()=>r[i.o9]+e[7]),e[0],e[6],e[8]),_((()=>r[i.o9]+e[7]),e[0],e[6],e[8])):h(r,t,A((()=>r[i.o9]+e[7]),e[0]),w((()=>r[i.o9]+e[7]),e[0]))})),n=Object.getPrototypeOf(n),!n)break}return r}},1879:(e,t,n)=>{"use strict";function r(e,t,n){Object.defineProperty(e,t,{value:n,writable:!1,enumerable:!1,configurable:!1})}n.d(t,{A:()=>r})},6779:(e,t,n)=>{"use strict";n.d(t,{s_:()=>it,ce:()=>at,qs:()=>Xe,eq:()=>bt});var r=n(5533),o=n(397),s=n(7741),i=n(8658);let a=1;function u(e,t=1){let n=a;for(;n%t;)n+=1;return a=n+e,n}const c=i.TK.CHeap?.threadCounter?i.TK.CHeap.threadCounter:u(4,4),f=i.TK.CHeap?.heapMutex?i.TK.CHeap.heapMutex:u(4,4);var l=n(2102),h="src/cheap/allocator/AllocatorJS.ts";const p=2,d=I(16),A=32,m=1+2*A,g=1,y=0,w=2,_=1,b=g+m+2;class x{constructor(e,t=!0){var n;this.options=r.X$({growSize:1048576,maxHeapSize:2097152e3},e),this.handles=[],this.buffer=e.buffer,this.shared=!1,this.options.memory||this.buffer instanceof ArrayBuffer||this.buffer instanceof SharedArrayBuffer?(this.byteOffset=e.byteOffset??0,this.heapOffset=M(this.byteOffset+v(A),e.byteLength??this.buffer.byteLength),this.heapLength=E((e.byteLength??this.buffer.byteLength)-this.heapOffset),this.int32Array=new Int32Array(this.buffer,this.heapOffset,I(this.heapLength)),this.updates=new Int32Array(this.buffer,this.byteOffset,A),"function"==typeof SharedArrayBuffer&&this.buffer instanceof SharedArrayBuffer&&(this.shared=!0)):l.h2("Expected buffer to be an instance of Buffer or ArrayBuffer",h,109),t&&(this.updates.fill(g),function(e){return e[g-1]===m&&e[g+m]===m}(n=this.int32Array)||function(e){const t=g,n=m,r=b,o=e.length-(t+n+2+_);P(e,n,t),e[t+y]=1,e[t+w]=r;for(let n=1;n<A;n++)e[t+w+n]=g;P(e,o,r),e[r+y]=1,e[r+w]=t}(n),function(e){let t=b;for(;t<e.length-_;){const n=S(e,t);n<2||n>=e.length-b?l.h2(`Got invalid sized chunk at ${v(t)} (${v(n)} bytes).`,h,564):j(e,t)?k(e,t,n):C(e,t,n),t+=n+2}}(this.int32Array))}addUpdateHandle(e){o.zy(this.handles,e)||this.handles.push(e)}removeUpdateHandle(e){o.TF(this.handles,e)}malloc_(e){(e=T(e,7))<16&&(e=16);const t=I(e),n=this.findFreeBlock(this.int32Array,t);if(n<=g)return 0;const r=S(this.int32Array,n);return r-(t+2)>=d?function(e,t,n,r,o){const s=t+n+2,i=r-(s-t);O(e,t,r,o),e[t-1]=-n,e[t+n]=-n,e[s-1]=-i,e[s+i]=-i,L(e,s,i,o)}(this.int32Array,n,t,r,this.updates):O(this.int32Array,n,r,this.updates),v(n)+this.heapOffset}malloc(e){this.shared&&((0,s.s2)(f,!0),this.checkBuffer());const t=this.malloc_(e);return this.shared&&(0,s.Tl)(f),t}calloc_(e,t){let n=e*t;n=n<16?16:T(n,7);const r=this.malloc_(n);if(0===r)return 0;const o=I(r);return this.int32Array.subarray(o,o+n>>2).fill(0),r}calloc(e,t){this.shared&&((0,s.s2)(f,!0),this.checkBuffer());const n=this.calloc_(e,t);return this.shared&&(0,s.Tl)(f),n}realloc_(e,t){if(0===e)return this.malloc_(t);const n=e;if(0===t)return this.free_(n),0;let r=I(e-=this.heapOffset),o=r,s=0;H(this.int32Array,r)&&(o=this.int32Array[r-1],s=r-o);const i=S(this.int32Array,o)-s;if(i>=I(T(t,7)))return n;{const e=this.malloc_(t);return 0===e?(this.free_(n),0):(this.int32Array.set(this.int32Array.subarray(r,r+i),I(e-this.heapOffset)),this.free_(n),e)}}realloc(e,t){return this.shared&&((0,s.s2)(f,!0),this.checkBuffer()),e=this.realloc_(e,t),this.shared&&(0,s.Tl)(f),e}alignedAlloc_(e,t){if(e<=8)return this.malloc_(t);const n=this.malloc_(t+e-1+4);if(0===n)return 0;const r=n+e-1+4&~(e-1);return this.int32Array[I(r-this.heapOffset)-_]=I(n-this.heapOffset),r}alignedAlloc(e,t){this.shared&&((0,s.s2)(f,!0),this.checkBuffer());const n=this.alignedAlloc_(e,t);return this.shared&&(0,s.Tl)(f),n}free_(e){if(0===e)return;let t=I(e-=this.heapOffset);if(H(this.int32Array,t)&&(t=this.int32Array[t-_]),j(this.int32Array,t))return;const n=S(this.int32Array,t),r=q(this.int32Array,t),o=function(e,t){const n=S(e,t);if(t+n+2>=e.length-2)return 0;const r=t+n+2;return e[r-_]<2?0:r}(this.int32Array,t);0!==r?0!==o?function(e,t,n,r,o,s){const i=S(e,t),a=S(e,o),u=o-t+a;O(e,t,i,s),O(e,o,a,s),e[t-_]=-u,e[o+a]=-u,L(e,t,u,s)}(this.int32Array,r,0,0,o,this.updates):U(this.int32Array,r,t,n,this.updates):0!==o?function(e,t,n,r,o){const s=S(e,t);O(e,t,s,o);const i=r+s+2;e[n-_]=-i,e[t+s]=-i,L(e,n,i,o)}(this.int32Array,o,t,n,this.updates):L(this.int32Array,t,n,this.updates)}free(e){this.shared&&((0,s.s2)(f,!0),this.checkBuffer()),this.free_(e),this.shared&&(0,s.Tl)(f)}sizeof(e){if(0===e)return 0;let t=I(e-=this.heapOffset);return H(this.int32Array,t)&&(t=this.int32Array[t-_]),v(S(this.int32Array,t))}inspect(){return this.checkBuffer(),function(e,t){const n=[],r=B(e,g,t);let o=b,s=0;for(;o<e.length-_;){const r=S(e,o);(r<2||r>=e.length)&&l.h2(`Got invalid sized chunk at ${v(o)} (${v(r)})`,h,620),j(e,o)?n.push(B(e,o,t)):(s+=v(r),n.push({type:"used",block:o,offset:v(o)+t,size:v(r)})),o+=r+2}return{header:r,blocks:n,total:v(e.length),used:s}}(this.int32Array,this.heapOffset)}findFreeBlock(e,t){let n=function(e,t){let n=g;for(let r=e[g+y];r>0;r--){let o=e[n+w+(r-1)];for(;o!==g&&e[o-_]<t;)n=o,o=e[n+w+(r-1)]}return n=e[n+w],n}(e,t);if(n===g){if(this.options.growAllowed&&this.heapLength<this.options.maxHeapSize){const e=this.int32Array.length+1;let n,r,s=0,i=0,a=0;if(this.options.onResize){const e=this.options.onResize(this.int32Array,this.int32Array.byteLength+T(Math.max(this.options.growSize,v(t)),7));s=e.byteOffset??0,a=M(s+v(A),e.byteLength??e.buffer.byteLength),i=E((e.byteLength??e.buffer.byteLength)-a),n=new Int32Array(e.buffer,a,I(i)),r=new Int32Array(e.buffer,s,A)}else{const e=new ArrayBuffer(this.int32Array.length+I(this.options.growSize));a=M(s+v(A),e.byteLength),i=E(e.byteLength-a),n=new Int32Array(e,a,I(i)),n.set(this.int32Array,0),r=new Int32Array(e,s,A)}this.byteOffset=s,this.heapOffset=a,this.buffer=n.buffer,this.heapLength=i,this.int32Array=n,this.updates=r;const u=n.length-(e-1)-2;P(n,u,e);const c=q(n,e);return 0!==c?U(n,c,e,u,this.updates):L(n,e,u,this.updates),this.handles.length&&o.__(this.handles,(e=>{e(this.buffer)})),this.findFreeBlock(this.int32Array,t)}return n}return n}getBuffer(){return this.buffer}isAlloc(e){this.shared&&((0,s.s2)(f,!0),this.checkBuffer());const t=I(e-this.heapOffset);let n=this.int32Array[g+w];for(;n&&n!==g;){if(t>=n&&t<n+this.int32Array[n-_])return this.shared&&(0,s.Tl)(f),!1;n=this.int32Array[n+w]}return this.shared&&(0,s.Tl)(f),!0}checkBuffer(){this.options.memory&&this.options.memory.buffer!==this.buffer&&(this.buffer=this.options.memory.buffer,this.heapLength=E(this.buffer.byteLength-this.heapOffset),this.int32Array=new Int32Array(this.buffer,this.heapOffset,I(this.heapLength)))}}function k(e,t,n){e[t-1]!==e[t+n]&&l.h2(`Block length header does not match footer (${v(e[t-1])} vs ${v(e[t+n])}).`,h,580);const r=e[t+y];(r<1||r>A)&&l.h2(`Block ${v(t)} height must be between 1 and ${A}, got ${r}.`,h,585);for(let n=0;n<r;n++){const r=e[t+w+n];r>=b&&!j(e,r)&&l.h2(`Block ${v(t)} has a pointer to a non-free block (${v(r)}).`,h,591)}return!0}function C(e,t,n){if(e[t-1]===e[t+n])return!0;l.h2(`Block length header does not match footer (${v(e[t-1])} vs ${v(e[t+n])}).`,h,600)}function v(e){return e<<p}function I(e){return e>>>p}function T(e,t){return e+t&~t}function M(e,t){const n=t-e;return e+(T(n,7)===n?0:n-T(n,7)+8)}function E(e){return(g+m)%2||(e-=4),e}function B(e,t,n){const r=e[t+y],o=[];for(let n=0;n<r;n++)o.push(e[t+w+n]);return{type:"free",block:t,offset:v(t)+n,height:r,pointers:o,size:v(e[t-1])}}function S(e,t){const n=e[t-1],r=n>>31;return n+r^r}function P(e,t,n){e[n-1]=t,e[n+t]=t}function $(e,t,n){const r=e[g+y];let o=g;for(let s=r;s>0;s--){let r=o+w+(s-1);for(;e[r]>=b&&e[e[r]-1]<t;)o=e[r],r=o+w+(s-1);n[s-1]=o}}function O(e,t,n,r){$(e,n,r);let o=e[r[0]+w];for(;o!==t&&o!==g&&e[o-1]<=n;){for(let n=e[o+y]-1;n>=0;n--)e[o+w+n]===t&&(r[n]=o);o=e[o+w]}let s=e[g+y];for(let n=0;n<s&&e[r[n]+w+n]===t;n++)e[r[n]+w+n]=e[t+w+n];for(;s>0&&e[g+w+(s-1)]===g;)s--,e[g+y]=s;e[t-1]=-n,e[t+n]=-n}function j(e,t){return!(t<m)&&!(e[t-_]<0)}function H(e,t){return!(t<m)&&!(e[t-_]<0)}function q(e,t){if(t<=b)return 0;const n=e[t-2];return n<2?0:t-(2+n)}function L(e,t,n,r){$(e,n,r);const o=function(e,t,n,r){const o=e[g+y];let s=function(){let e=1;for(;Math.random()<.5&&e<A;)e+=1;return e}();if(n-1<s+1&&(s=n-2),s>o){const n=o+1;return e[g+y]=n,e[g+w+(n-1)]=g,r[n]=g,e[t+y]=n,n}return e[t+y]=s,s}(e,t,n,r);for(let n=1;n<=o;n++){const o=r[n-1]+w+(n-1);e[t+w+(n-1)]=e[o],e[o]=t,r[n-1]=g}return e[t-1]=n,e[t+n]=n,n}function U(e,t,n,r,o){const s=n-t+r;return O(e,t,n-t-2,o),e[t-_]=-s,e[n+r]=-s,L(e,t,s,o),r}class N{constructor(){this.table=new WebAssembly.Table({initial:10,element:"anyfunc"}),this.pointer=1,this.nodes=[{pointer:1,length:9,free:!0}]}getPointer(){return this.pointer}alloc(e){let t=this.findFree(e);if(t<0){const n=this.nodes[this.nodes.length-1],r=e-(n.free?n.length:0);this.table.grow(r),n.free?n.length=n.length+r:this.nodes.push({pointer:n.pointer+n.length,length:r,free:!0}),t=this.findFree(e)}const n=this.nodes[t];return n.length>e&&(this.nodes.splice(t+1,0,{pointer:n.pointer+e,length:n.length-e,free:!0}),n.length=e),n.free=!1,n.pointer}free(e){let t=this.findNode(e);const n=this.nodes[t];if(n&&!n.free){const e=this.nodes[t-1],r=this.nodes[t+1];e&&e.free?r&&r.free?(e.length+=n.length+r.length,this.nodes.splice(t,2)):(e.length+=n.length,this.nodes.splice(t,1)):r&&r.free?(n.length+=r.length,this.nodes.splice(t+1,1),n.free=!0):n.free=!0}}get(e){return this.table.get(e)}set(e,t){if(e<0||e>=this.pointer)throw new RangeError("index out of bound");this.table.set(e,t)}inspect(){return this.nodes}findFree(e){let t=-1;for(let n=0;n<this.nodes.length;n++)if(this.nodes[n].length>=e&&this.nodes[n].free){t=n;break}return t}findNode(e){let t=-1;for(let n=0;n<this.nodes.length;n++)if(this.nodes[n].pointer===e){t=n;break}return t}}var D=n(8439);function V(){return Date.now()}var Y=n(3818),K=n(7186),W=n(3251);function F(e){return Y.Pc(e)&&W.zy((0,K.A)(e),"[native code]")}let z;typeof setImmediate===i.s0&&F(setImmediate)&&(z=setImmediate),z=typeof MessageChannel===i.s0&&F(MessageChannel)?function(e){const t=new MessageChannel;t.port1.onmessage=e,t.port2.postMessage(1)}:"function"==typeof setTimeout?setTimeout:function(e){setTimeout(e)};const G=z;var Z=n(6744),Q=n(5763),R=n(318);let J;const X=D._7||(0,Q.A)()||!R.A.chrome||R.A.checkVersion(R.A.majorVersion,"94",!0);function ee(e,t,n,r){if(X)return Atomics.add(J(n),e>>>r,t);{const o=J(n),s=e>>>r,i=o[s];return o[s]+=t,i}}function te(e,t,n,r){if(X)return Atomics.sub(J(n),e>>>r,t);{const o=J(n),s=e>>>r,i=o[s];return o[s]-=t,i}}function ne(e,t,n,r){if(X)return Atomics.and(J(n),e>>>r,t);{const o=J(n),s=e>>>r,i=o[s];return o[s]&=t,i}}function re(e,t,n,r){if(X)return Atomics.or(J(n),e>>>r,t);{const o=J(n),s=e>>>r,i=o[s];return o[s]|=t,i}}function oe(e,t,n,r){if(X)return Atomics.xor(J(n),e>>>r,t);{const o=J(n),s=e>>>r,i=o[s];return o[s]^=t,i}}function se(e,t,n,r){if(X)return Atomics.store(J(n),e>>>r,t);{const o=J(n),s=e>>>r,i=o[s];return o[s]=t,i}}function ie(e,t,n){return X?Atomics.load(J(t),e>>>n):J(t)[e>>>n]}function ae(e,t,n,r,o){if(X)return Atomics.compareExchange(J(r),e>>>o,t,n);{const s=J(r),i=e>>>o,a=s[i];return a===t&&(s[i]=n),a}}function ue(e,t,n,r){if(X)return Atomics.exchange(J(n),e>>>r,t);{const o=J(n),s=e>>>r,i=o[s];return o[s]=t,i}}function ce(e,t){return X?Atomics.notify(J(16),e>>>2,t):void 0}const fe={ok:0,"not-equal":1,"timed-out":2};function le(e,t){return fe[Atomics.wait(J(16),e>>>2,t)]}function he(e,t,n){return fe[Atomics.wait(J(16),e>>>2,t,n)]}async function pe(e,t){if(Atomics.waitAsync){const n=Atomics.waitAsync(J(16),e>>>2,t);return n.async?fe[await n.value]:fe[n.value]}if(ie(e)!==t)return 1;for(;ie(e)===t;)await new Promise((e=>{G((()=>{e()}))}));return 0}async function de(e,t,n){if(Atomics.waitAsync){const r=Atomics.waitAsync(J(16),e>>>2,t,n);return r.async?fe[await r.value]:fe[r.value]}if(ie(e)!==t)return 1;{const r=V();for(;ie(e)===t&&V()-r<n;)await new Promise((e=>{G((()=>{e()}))}));return ie(e)!==t?0:2}}function Ae(e){J=e,(0,Z.$Z)({add:ee,sub:te,and:ne,or:re,xor:oe,store:se,load:ie,compareExchange:ae,exchange:ue,notify:ce,wait:le,waitTimeout:he,waitAsync:pe,waitTimeoutAsync:de})}var me=n(249),ge=n(9761),ye=n(4402),we=n(94),_e=n(1128),be=n.n(_e);let xe;async function ke(e){try{let t=(0,me.E_)(be());"function"==typeof SharedArrayBuffer&&e.buffer instanceof SharedArrayBuffer&&we.DD(t,!0),xe=(await WebAssembly.instantiate(t,{env:{memory:e}})).instance,(0,ge.$)({4:xe.exports.readU8,5:xe.exports.readU8,2:xe.exports.readU8,3:xe.exports.readU8,6:xe.exports.readU16,7:xe.exports.readU16,8:e=>xe.exports.read32(e)>>>0,9:e=>xe.exports.read32(e)>>>0,10:e=>BigInt.asUintN(64,xe.exports.read64(e)),22:e=>BigInt.asUintN(64,xe.exports.read64(e)),11:xe.exports.read8,12:xe.exports.read8,13:xe.exports.read16,14:xe.exports.read16,15:xe.exports.read32,16:xe.exports.read32,17:xe.exports.read64,21:xe.exports.read64,18:xe.exports.readf32,19:xe.exports.readf64,20:e=>xe.exports.read32(e)>>>0}),(0,ye.$)({4:xe.exports.write8,5:xe.exports.write8,2:xe.exports.write8,3:xe.exports.write8,6:xe.exports.write16,7:xe.exports.write16,8:xe.exports.write32,9:xe.exports.write32,10:xe.exports.write64,22:xe.exports.write64,11:xe.exports.write8,12:xe.exports.write8,13:xe.exports.write16,14:xe.exports.write16,15:xe.exports.write32,16:xe.exports.write32,17:xe.exports.write64,21:xe.exports.write64,18:xe.exports.writef32,19:xe.exports.writef64,20:xe.exports.write32})}catch(e){l.R8("memory asm not support, cannot use asm memory function","src/cheap/asm/memory.ts",98)}}var Ce=n(8144),ve=n(3395);let Ie,Te,Me;const Ee=function(){if((0,ve.A)(Ie))return Ie;const e=new ArrayBuffer(2);return new DataView(e).setInt16(0,256,!0),Ie=256===new Int16Array(e)[0],Ie}();function Be(e,t){Me().setUint8(e,t)}function Se(e){return Me().getUint8(e)}function Pe(e,t){Me().setUint16(e,t,Ee)}function $e(e){return Me().getUint16(e,Ee)}function Oe(e,t){Me().setUint32(e,t,Ee)}function je(e){return Me().getUint32(e,Ee)}function He(e,t){Me().setBigUint64(e,t,Ee)}function qe(e){return Me().getBigUint64(e,Ee)}function Le(e,t){Me().setInt8(e,t)}function Ue(e){return Me().getInt8(e)}function Ne(e,t){Me().setInt16(e,t,Ee)}function De(e){return Me().getInt16(e,Ee)}function Ve(e,t){Me().setInt32(e,t,Ee)}function Ye(e){return Me().getInt32(e,Ee)}function Ke(e,t){Me().setBigInt64(e,t,Ee)}function We(e){return Me().getBigInt64(e,Ee)}function Fe(e,t){Me().setFloat32(e,t,Ee)}function ze(e){return Me().getFloat32(e,Ee)}function Ge(e,t){Me().setFloat64(e,t,Ee)}function Ze(e){return Me().getFloat64(e,Ee)}function Qe(e){return Me().getUint32(e,Ee)}function Re(e,t){return Me().setUint32(e,t,Ee)}function Je(e,t){Te=e,Me=t,(0,ge.$)({4:Se,5:Se,2:Se,3:Se,6:$e,7:$e,8:je,9:je,10:qe,11:Ue,12:Ue,13:De,14:De,15:Ye,16:Ye,17:We,18:ze,19:Ze,20:Qe}),(0,ye.$)({4:Be,5:Be,2:Be,3:Be,6:Pe,7:Pe,8:Oe,9:Oe,10:He,11:Le,12:Le,13:Ne,14:Ne,15:Ve,16:Ve,17:Ke,18:Fe,19:Ge,20:Re})}let Xe=-1,et=!0,tt="",nt=null,rt=null,ot=0,st=null,it=null,at=null,ut=null,ct=null,ft=null,lt=null,ht=null,pt=null,dt=null,At=null,mt=null,gt=null,yt=null,wt={5:ht,3:ht,7:pt,9:dt,22:At,12:ut,14:ct,16:ft,21:lt};function _t(){return!(!at||at.buffer===ht.buffer)}function bt(){return _t()&&Ct(at.buffer),ht}function xt(){return _t()&&Ct(at.buffer),yt}function kt(e){return _t()&&Ct(at.buffer),wt[e]}function Ct(e){ut=new Int8Array(e),ct=new Int16Array(e),ft=new Int32Array(e),lt=new BigInt64Array(e),ht=new Uint8Array(e),pt=new Uint16Array(e),dt=new Uint32Array(e),At=new BigUint64Array(e),mt=new Float32Array(e),gt=new Float64Array(e),yt=new DataView(e),wt={5:ht,3:ht,7:pt,9:dt,22:At,12:ut,14:ct,16:ft,21:lt}}{const{isMainThread:e}=n(3566);e?(Je((()=>it),xt),Ae(kt),at=i.TK.CHeap?.Memory?i.TK.CHeap.Memory:new WebAssembly.Memory({initial:D.YN,maximum:D.Gx,shared:D._7}),it=i.TK.CHeap?.Allocator?i.TK.CHeap.Allocator:new x({buffer:at.buffer,memory:at,byteOffset:D.dP,growAllowed:!0,onResize:(e,t)=>(at.grow(t-e.byteLength>>>16),{buffer:at.buffer,byteOffset:D.dP})}),it.addUpdateHandle(Ct),Ct(it.getBuffer()),ot=i.TK.CHeap?.StackSize?i.TK.CHeap.StackSize:D.pw,rt=i.TK.CHeap?.StackTop?i.TK.CHeap.StackTop:it.malloc(ot),nt=i.TK.CHeap?.StackPointer?i.TK.CHeap.StackPointer:new WebAssembly.Global({value:"i32",mutable:!0},rt+ot),st=i.TK.CHeap?.Table?i.TK.CHeap.Table:new N,Xe=i.TK.CHeap?.ThreadId?i.TK.CHeap.ThreadId:0,tt=i.TK.CHeap?.ThreadName?i.TK.CHeap.ThreadName:"main",i.TK.CHeap||(D._7?(Atomics.store(dt,c>>>2,Xe+1),Atomics.store(ft,f>>>2,0)):(dt[c>>>2]=Xe+1,ft[f>>>2]=0)),"function"==typeof BigInt&&BigInt!==Number&&(R.A.chrome&&R.A.checkVersion(R.A.majorVersion,"85",!0)||R.A.firefox&&R.A.checkVersion(R.A.majorVersion,"78",!0)||R.A.safari&&R.A.checkVersion(R.A.majorVersion,"15",!0)||R.A.newEdge)&&ke(at),D._7&&(R.A.chrome&&R.A.checkVersion(R.A.majorVersion,"85",!0)||R.A.firefox&&R.A.checkVersion(R.A.majorVersion,"78",!0)||R.A.safari&&R.A.checkVersion(R.A.majorVersion,"15",!0)||R.A.newEdge)&&(0,Ce.Ay)(at),i.TK.CHeap||(i.TK.CHeap={Allocator:it,Table:st,ThreadId:Xe,ThreadName:tt,Memory:at,StackSize:ot,StackTop:rt,StackPointer:nt,isMainThread:!0,threadCounter:c,heapMutex:f}),et=!0):(i.TK.CHeap={initThread:async function e(t){Je((()=>it),xt),Ae(kt),at=t.memory;var n;n=new x({buffer:at.buffer,memory:at,byteOffset:D.dP,growAllowed:!0,onResize:(e,t)=>(at.grow(t-e.byteLength>>>16),{buffer:at.buffer,byteOffset:D.dP})},!1),it&&it.removeUpdateHandle(Ct),it=n,i.TK.CHeap&&(i.TK.CHeap.Allocator=it),it.addUpdateHandle(Ct),Ct(it.getBuffer()),t.stackPointer&&(ot=t.stackSize,rt=t.stackPointer,nt=new WebAssembly.Global({value:"i32",mutable:!0},rt+ot),st=new N),Xe="number"==typeof t.id?t.id:Atomics.add(dt,c>>>2,1),tt=t.name??"anonymous",i.TK.CHeap={initThread:e,Allocator:it,Table:st,ThreadId:Xe,ThreadName:tt,Memory:at,StackSize:ot,StackTop:rt,StackPointer:nt,isMainThread:!1},et=!1,t.disableAsm||("function"==typeof BigInt&&BigInt!==Number&&(R.A.chrome&&R.A.checkVersion(R.A.majorVersion,"85",!0)||R.A.firefox&&R.A.checkVersion(R.A.majorVersion,"78",!0)||R.A.safari&&R.A.checkVersion(R.A.majorVersion,"15",!0)||R.A.newEdge)&&await ke(at),D._7&&(R.A.chrome&&R.A.checkVersion(R.A.majorVersion,"85",!0)||R.A.firefox&&R.A.checkVersion(R.A.majorVersion,"78",!0)||R.A.safari&&R.A.checkVersion(R.A.majorVersion,"15",!0)||R.A.newEdge)&&await(0,Ce.Ay)(at))},isMainThread:!1},et=!1)}},976:(e,t,n)=>{"use strict";n.d(t,{I_:()=>d});var r=n(8519),o=n(9761),s=n(4402),i=n(3669),a=n(790),u=n(3818),c=n(5533),f=n(397),l=n(8102);const h=Object.getPrototypeOf({});function p(e,t){for(;;){let n=e[i.JY];if(n){const e=n.get(t);if(e)return e}if(!(e=Object.getPrototypeOf(e))||e===h)return null}}function d(e,t){const n=u.Pc(t)?t.prototype:t,h={};h[i.o9]=e,Object.setPrototypeOf(h,n);const{proxy:A,revoke:m}=Proxy.revocable(h,{get(e,t,r){if(u.Yj(t)){const r=p(n,t.replace(/^\$+/,""));if(r){const n=e[i.o9]+r[7];if(r[3]){const r=e[t];return r[i.o9]=n,r}if(r[1])return o.f[20](n);if(u.Pc(r[0])||u.Ik(r[0]))return e[t]||(e[t]=d(n,r[0]));{let e=o.f[r[0]](n);return r[5]&&(e=e>>>8*a.i[r[0]]-r[8]-r[6]&Math.pow(2,r[6])-1),e}}return e[t]}return e[t]},set(e,t,h,A){if(u.Yj(t)){const A=p(n,t.replace(/^\$+/,""));if(A){const n=e[i.o9]+A[7];if(A[3]){const a=e[t]||function(e,t,n,a){const f={};f[i.o9]=e;let h=(0,r.A)(a?20:n);return new Proxy(f,{get(e,t,r){if(t===i.o9)return e[i.o9];const s=(0,l.A)(t);return a?o.f[20](e[i.o9]+s*h):u.Pc(n)?e[t]:o.f[n](e[i.o9]+s*h)},set(e,t,r,o){if(t===i.o9)return e[i.o9]=r,!0;const f=(0,l.A)(t);if(a)s.M[20](e[i.o9]+f*h,r),e[t]=r;else if(u.Pc(n)){const o=e[t]||(e[t]=d(e[i.o9]+f*h,n));c.__(r,((e,t)=>{o[t]=e})),e[t]=o}else s.M[n](e[i.o9]+f*h,r),e[t]=r;return!0}})}(n,A[4],A[0],A[1]);f.__(h,((e,t)=>{a[t]=e})),e[t]=a}else if(A[1])s.M[20](n,h),e[t]=h;else if(u.Pc(A[0])||u.Ik(A[0])){const r=e[t]||(e[t]=d(n,A[0]));c.__(h,((e,t)=>{r[t]=e})),e[t]=r}else{if(A[5]){let e=0,t=8*a.i[A[0]];for(let n=0;n<A[6];n++)e|=1<<t-1-(n+A[8]);const r=o.f[A[0]](n);s.M[A[0]](n,r&~e|(h&Math.pow(2,A[6])-1)<<t-A[8]-A[6])}else s.M[A[0]](n,h);e[t]=h}}else e[t]=h}else e[t]=h;return!0}});return h[i.kE]=m,A}},1510:(e,t,n)=>{"use strict";n.d(t,{A:()=>A});var r,o,s=n(3669),i=n(1879),a=n(6779),u=n(9761),c=n(4402),f=n(8519),l=n(564),h=n(3818),p=n(1676);class d{}r=d.prototype,(o=new Map).set("prev",{0:d,1:1,2:1,3:0,4:0,5:0,6:0,7:0,8:0}),o.set("next",{0:d,1:1,2:1,3:0,4:0,5:0,6:0,7:4,8:0}),o.set("data",{0:1,1:1,2:1,3:0,4:0,5:0,6:0,7:8,8:0}),(0,i.A)(r,s.Og,!0),(0,i.A)(r,s.dc,4),(0,i.A)(r,s.g7,12),(0,i.A)(r,s.JY,o);class A{constructor(){this.length=0,this.head=0,this.tail=0}createNode(e,t,n=!1){const r=a.s_.malloc(12);if(c.M[20](r+4,0),c.M[20](r,0),h.ai(t))if(20===t)c.M[20](r+8,e);else{const n=a.s_.malloc((0,f.A)(t));c.M[t](n,e),c.M[20](r+8,n)}else if(n)c.M[20](r+8,e);else{const n=a.s_.malloc((0,f.A)(t));(0,l.Mr)(n,e[s.o9],(0,f.A)(t)),c.M[20](r+8,n)}return r}getItem(e,t){let n;return n=h.ai(t)?20===t?e:u.f[t](e):(0,p.A)(e,t),n}push(e,t,n=!1){const r=this.createNode(e,t,n);this.tail?(c.M[20](this.tail+4,r),c.M[20](r,this.tail),this.tail=r):(this.head=r,this.tail=r),this.length++}pop(e){const t=this.tail;let n=this.getItem(u.f[20](t+8),e);return this.length>1?(c.M[20](u.f[20](t)+4,0),this.tail=u.f[20](t)):(this.head=0,this.tail=0),this.length--,a.s_.free(t),n}shift(e){const t=this.head;let n=this.getItem(u.f[20](t+8),e);return this.length>1?(c.M[20](u.f[20](t+4),0),this.head=u.f[20](t+4)):(this.head=0,this.tail=0),this.length--,a.s_.free(t),n}unshift(e,t,n=!1){const r=this.createNode(e,t,n);this.head?(c.M[20](this.head,r),c.M[20](r+4,this.head),this.head=r):(this.head=r,this.tail=r),this.length++}forEach(e,t){if(!this.length)return;let n=this.head,r=0;for(;0!==n&&!1!==e(this.getItem(u.f[20](n+8),t),r);)n=u.f[20](n+4),r++}find(e,t){if(!this.length)return 0;let n=this.head,r=0;for(;0!==n;){const o=this.getItem(u.f[20](n+8),t);if(!0===e(o,r))return o;n=u.f[20](n+4),r++}return 0}indexOf(e,t){if(!this.length)return 0;let n=this.head,r=0;for(;0!==n;){if(r===e)return this.getItem(u.f[20](n+8),t);n=u.f[20](n+4),r++}return 0}clear(e,t){if(this.length){let n=this.head;for(;0!==n;){e&&e(this.getItem(u.f[20](n+8),t)),a.s_.free(u.f[20](n+8));const r=u.f[20](n+4);a.s_.free(n),n=r}}this.head=0,this.tail=0,this.length=0}}!function(e){var t=new Map;t.set("length",{0:8,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0}),t.set("head",{0:d,1:1,2:1,3:0,4:0,5:0,6:0,7:4,8:0}),t.set("tail",{0:d,1:1,2:1,3:0,4:0,5:0,6:0,7:8,8:0}),(0,i.A)(e,s.Og,!0),(0,i.A)(e,s.dc,4),(0,i.A)(e,s.g7,12),(0,i.A)(e,s.JY,t)}(A.prototype)},564:(e,t,n)=>{"use strict";n.d(t,{Mr:()=>o,sO:()=>s});var r=n(6779);function o(e,t,n){(0,r.eq)().set((0,r.eq)().subarray(t,t+n),e)}function s(e,t,n){(0,r.eq)().subarray(e,e+n).fill(t)}},8519:(e,t,n)=>{"use strict";n.d(t,{A:()=>i});var r=n(3669),o=n(3818),s=n(790);function i(e){return o.ai(e)?s.i[e]||0:o.Pc(e)&&e.prototype[r.Og]?e.prototype[r.g7]:0}},1676:(e,t,n)=>{"use strict";n.d(t,{A:()=>c});var r=n(3669),o=n(976),s=n(4585),i=n(883),a=n(3818),u=n(4500);function c(e,t){return arguments[2]&&a.Yj(arguments[2])&&(t=t.prototype,u.__(arguments[2],(e=>{const n=t[r.JY];t=n.get(e)[0]}))),i.A.proxy?(0,o.I_)(e,t):(0,s.l)(e,t)}},3669:(e,t,n)=>{"use strict";n.d(t,{JY:()=>a,Og:()=>r,dc:()=>s,g7:()=>o,kE:()=>u,o9:()=>i});const r=Symbol("Struct"),o=Symbol("StructLength"),s=Symbol("StructMaxBaseTypeByteLength"),i=Symbol("StructAddress"),a=(Symbol("StructKeysQueue"),Symbol("StructKeysMeta")),u=(Symbol("StructKeysInstance"),Symbol("StructProxyRevoke"))},8144:(e,t,n)=>{"use strict";n.d(t,{Ay:()=>f});var r=n(249),o=n(2102),s=n(7681),i=n.n(s),a=n(6744),u="src/cheap/thread/asm/atomics.ts";let c;async function f(e){try{if(!("function"==typeof SharedArrayBuffer&&e.buffer instanceof SharedArrayBuffer))return;c=(await WebAssembly.instantiate((0,r.E_)(i()),{env:{memory:e}})).instance,(0,a.$Z)({add:function(e,t,n){switch(n){case 5:case 3:return 255&c.exports.add8(e,t);case 12:return c.exports.add8(e,t);case 14:return c.exports.add16(e,t);case 7:return 65535&c.exports.add16(e,t);case 16:return c.exports.add32(e,t);case 9:return 4294967295&c.exports.add32(e,t);case 21:return c.exports.add64(e,t);case 22:return BigInt.asUintN(64,c.exports.add64(e,t))}},sub:function(e,t,n){switch(n){case 5:case 3:return 255&c.exports.sub8(e,t);case 12:return c.exports.sub8(e,t);case 14:return c.exports.sub16(e,t);case 7:return 65535&c.exports.sub16(e,t);case 16:return c.exports.sub32(e,t);case 9:return 4294967295&c.exports.sub32(e,t);case 21:return c.exports.sub64(e,t);case 22:return BigInt.asUintN(64,c.exports.sub64(e,t))}},and:function(e,t,n){switch(n){case 5:case 3:return 255&c.exports.and8(e,t);case 12:return c.exports.and8(e,t);case 14:return c.exports.and16(e,t);case 7:return 65535&c.exports.and16(e,t);case 16:return c.exports.and32(e,t);case 9:return 4294967295&c.exports.and32(e,t);case 21:return c.exports.and64(e,t);case 22:return BigInt.asUintN(64,c.exports.and64(e,t))}},or:function(e,t,n){switch(n){case 5:case 3:return 255&c.exports.or8(e,t);case 12:return c.exports.or8(e,t);case 14:return c.exports.or16(e,t);case 7:return 65535&c.exports.or16(e,t);case 16:case 9:return c.exports.or32(e,t);case 21:return c.exports.or64(e,t);case 22:return BigInt.asUintN(64,c.exports.or64(e,t))}},xor:function(e,t,n){switch(n){case 5:case 3:return 255&c.exports.xor8(e,t);case 12:return c.exports.xor8(e,t);case 14:return c.exports.xor16(e,t);case 7:return 65535&c.exports.xor16(e,t);case 16:case 9:return c.exports.xor32(e,t);case 21:return c.exports.xor64(e,t);case 22:return BigInt.asUintN(64,c.exports.xor64(e,t))}},store:function(e,t,n){switch(n){case 5:case 12:case 3:return c.exports.store8(e,t);case 14:case 7:return c.exports.store16(e,t);case 16:case 9:return c.exports.store32(e,t);case 21:case 22:return c.exports.store64(e,t)}},load:function(e,t){switch(t){case 5:case 3:return 255&c.exports.load8(e);case 12:return c.exports.load8(e);case 14:case 7:return c.exports.load16(e);case 16:return c.exports.load32(e);case 9:return 4294967295&c.exports.load32(e);case 21:return c.exports.load64(e);case 22:return BigInt.asUintN(64,c.exports.load64(e))}},compareExchange:function(e,t,n,r){switch(r){case 5:case 3:return 255&c.exports.compare_exchange8(e,t,n);case 12:return c.exports.compare_exchange8(e,t,n);case 14:return c.exports.compare_exchange16(e,t,n);case 7:return 65535&c.exports.compare_exchange16(e,t,n);case 16:return c.exports.compare_exchange32(e,t,n);case 9:return 4294967295&c.exports.compare_exchange32(e,t,n);case 21:return c.exports.compare_exchange64(e,t,n);case 22:return BigInt.asUintN(64,c.exports.compare_exchange64(e,t,n))}},exchange:function(e,t,n){switch(n){case 5:case 3:return 255&c.exports.exchange8(e,t);case 12:return c.exports.exchange8(e,t);case 14:return c.exports.exchange16(e,t);case 7:return 65535&c.exports.exchange16(e,t);case 16:return c.exports.exchange32(e,t);case 9:return 4294967295&c.exports.exchange32(e,t);case 21:return c.exports.exchange64(e,t);case 22:return BigInt.asUintN(64,c.exports.exchange64(e,t))}},notify:function(e,t){return c.exports.notify(e,t)},wait:function(e,t){return c.exports.wait(e,t)},waitTimeout:function(e,t,n){return c.exports.waitTimeout(e,t,BigInt(n>>>0))}})}catch(e){o.R8("atomics asm not support, cannot use asm atomics function",u,279)}}},6744:(e,t,n)=>{"use strict";let r,o,s,i,a,u,c,f,l,h,p,d,A,m;function g(e){e.add&&(r=e.add),e.sub&&(o=e.sub),e.and&&(s=e.and),e.or&&(i=e.or),e.xor&&(a=e.xor),e.store&&(u=e.store),e.load&&(c=e.load),e.compareExchange&&(f=e.compareExchange),e.exchange&&(l=e.exchange),e.notify&&(h=e.notify),e.wait&&(p=e.wait),e.waitTimeout&&(d=e.waitTimeout),e.waitAsync&&(A=e.waitAsync),e.waitTimeoutAsync&&(m=e.waitTimeoutAsync)}n.d(t,{$Z:()=>g,Hh:()=>c,M_:()=>u,WQ:()=>r,jb:()=>o,me:()=>h,p_:()=>f,uk:()=>p})},9852:(e,t,n)=>{"use strict";n.d(t,{LB:()=>c,Ts:()=>f,mq:()=>h,uk:()=>p,vP:()=>l});var r,o,s=n(3669),i=n(1879),a=n(7741),u=n(6744);class c{}function f(e,t){return u.M_(e,0,16,2),0}function l(e){return u.WQ(e,1,16,2),u.me(e,1),0}function h(e){return u.WQ(e,1,16,2),u.me(e,1073741824),0}function p(e,t){let n=u.Hh(e,16,2);return a.Tl(t),u.uk(e,n),a.s2(t),0}r=c.prototype,(o=new Map).set("atomic",{0:16,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0}),(0,i.A)(r,s.Og,!0),(0,i.A)(r,s.dc,4),(0,i.A)(r,s.g7,4),(0,i.A)(r,s.JY,o)},5268:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>u});var r=n(2689),o=n(9995),s=n(8658),i=n(3818);let a=s.TK;{const{parentPort:e}=n(3566);a=e}function u(e){let t,n;a.on("message",(u=>{const c=u,f=c.type,l=c.data;switch(f){case"init":if(s.TK.CHeap&&s.TK.CHeap.initThread)return void s.TK.CHeap.initThread(l).then((()=>{a.postMessage({type:"ready"})}));a.postMessage({type:"ready"});break;case"run":a.postMessage({type:"running"}),n=e(l.params),h=l.port,t=new o.A(h),t.on(r.S3,(async e=>{const r=e.method,o=e.params;if(i.Pc(n[r]))try{const s=[],i=await n[r](...o.params,s);t.reply(e,i,null,s)}catch(n){t.reply(e,-2097152,{message:n.message})}}));break;case"stop":t&&t.destroy(),a.postMessage({type:"stopped"})}var h}))}},786:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>s});var r=n(8658);let o=r.TK;{const{parentPort:e}=n(3566);o=e}function s(e){let t;o.on("message",(n=>{const s=n,i=s.type,a=s.data;switch(i){case"init":if(r.TK.CHeap&&r.TK.CHeap.initThread)return void r.TK.CHeap.initThread(a).then((()=>{o.postMessage({type:"ready"})}));o.postMessage({type:"ready"});break;case"run":t=e(a.params);break;case"stop":t&&t.then?t.then((e=>{o.postMessage({type:"stopped",data:e})})):o.postMessage({type:"stopped",data:t});break;default:console.log("default")}}))}},6894:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>u});var r=n(2689),o=n(9995),s=n(8658),i=n(3818);let a=s.TK;{const{parentPort:e}=n(3566);a=e}function u(e){let t;a.on("message",(n=>{const u=n,c=u.type,f=u.data;switch(c){case"init":if(s.TK.CHeap&&s.TK.CHeap.initThread)return void s.TK.CHeap.initThread(f).then((()=>{a.postMessage({type:"ready"})}));a.postMessage({type:"ready"});break;case"run":a.postMessage({type:"running"}),l=f.port,t=new o.A(l),t.on(r.S3,(async n=>{const r=n.method,o=n.params;if(i.Pc(e[r]))try{const s=[],i=await e[r](...o.params,s);t.reply(n,i,null,s)}catch(e){t.reply(n,-2097152,{message:e.message})}}));break;case"stop":t&&t.destroy(),a.postMessage({type:"stopped"})}var l}))}},7741:(e,t,n)=>{"use strict";n.d(t,{Tl:()=>h,Ts:()=>f,eu:()=>c,s2:()=>l});var r,o,s=n(3669),i=n(1879),a=n(6744),u=n(5763);class c{}function f(e){return a.M_(e,0,16,2),0}function l(e,t=!1){let n;if(0!==(n=a.p_(e,0,1,16,2)))do{2!=n&&0===a.p_(e,1,2,16,2)||!t&&(0,u.A)()&&a.uk(e,2)}while(0!==(n=a.p_(e,0,2,16,2)));return 0}function h(e){return 1!==a.jb(e,1,16,2)&&(a.M_(e,0,16,2),a.me(e,1)),0}r=c.prototype,(o=new Map).set("atomic",{0:16,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0}),(0,i.A)(r,s.Og,!0),(0,i.A)(r,s.dc,4),(0,i.A)(r,s.g7,4),(0,i.A)(r,s.JY,o)},790:(e,t,n)=>{"use strict";n.d(t,{i:()=>r});const r={2:1,3:1,4:1,5:1,6:2,7:2,8:4,9:4,10:8,11:1,12:1,13:2,14:2,15:4,16:4,17:8,18:4,19:8,20:4,0:4,1:4,22:8,21:8}},1149:(e,t,n)=>{"use strict";function r(e,t){if(!t.length)return null;if(1===t.length)return t[0];let n,r=0;for(n of t)r+=n.length;let o=new e(r),s=0;for(n of t)o.set(n,s),s+=n.length;return o}n.d(t,{A:()=>r})},3395:(e,t,n)=>{"use strict";n.d(t,{A:()=>o});var r=n(8658);function o(e){return e!==r.ZH}},5763:(e,t,n)=>{"use strict";n.d(t,{A:()=>o});var r=n(3395);function o(){return!("object"==typeof window&&(0,r.A)(window.document)||"function"==typeof registerProcessor&&"number"==typeof sampleRate&&"number"==typeof currentFrame&&"number"==typeof currentTime)}},8102:(e,t,n)=>{"use strict";n.d(t,{A:()=>s});var r=n(3818),o=n(8658);function s(e,t){return r.sH(e)?+e:t!==o.ZH?t:0}},7186:(e,t,n)=>{"use strict";n.d(t,{A:()=>o});var r=n(8658);function o(e,t){return e!=r.Cq&&e.toString?e.toString():t!==r.ZH?t:r.u1}},2689:(e,t,n)=>{"use strict";n.d(t,{S3:()=>A,Ay:()=>m});var r=n(3818),o=n(397),s=n(8658);class i{constructor(e,t){this.type=e,this.phase=i.PHASE_CURRENT,t&&(this.originalEvent=t)}preventDefault(){const e=this;if(!e.isPrevented){const{originalEvent:t}=e;t&&t.preventDefault(),e.isPrevented=s.rT}return e}stopPropagation(){const e=this;if(!e.isStopped){const{originalEvent:t}=e;t&&t.stopPropagation(),e.isStopped=s.rT}return e}prevent(){return this.preventDefault()}stop(){return this.stopPropagation()}}i.PHASE_CURRENT=0,i.PHASE_UPWARD=1,i.PHASE_DOWNWARD=s.Cy;const a=i;var u=n(5533),c=n(3251);class f{constructor(e){this.ns=e||s.W8,this.listeners={}}fire(e,t,n){let i=this,c=r.Yj(e)?i.parse(e):e,f=i.listeners[c.type],l=s.rT;if(f){f=u.C(f);const e=t&&t[0]instanceof a?t[0]:s.ZH;o.__(f,(function(a){if(!p(c.ns,a,s.rT)||!o.zy(f,a)||n&&!n(c,t,a))return;e&&(e.listener=a.fn);let u=function(e,t,n){if(r.Pc(e))return r.YO(n)?e.apply(t,n):t!==s.ZH?e.call(t,n):n!==s.ZH?e(n):e()}(a.fn,a.ctx,t);return e&&(e.listener=s.ZH),a.num=a.num?a.num+1:1,a.num===a.max&&i.off(c,a.fn),e&&(u===s.W8?e.prevent().stop():e.isStopped&&(u=s.W8)),u===s.W8?l=s.W8:void 0}))}return l}on(e,t){const n=this,s=n.listeners,i=r.Pc(t)?{fn:t}:t;if(r.Ik(i)&&r.Pc(i.fn)){const t=r.Yj(e)?n.parse(e):e;i.ns=t.ns,o.VC(s[t.type]||(s[t.type]=[]),i)}return this}one(e,t){return r.Pc(t)?t={fn:t,max:1}:t.max=1,this.on(e,t)}off(e,t){const n=this,i=n.listeners;if(e){const a=r.Yj(e)?n.parse(e):e,c=a.type,f=a.ns,l=h(t),d=function(e,t){o.__(e,(function(t,n){l(t)&&e.splice(n,1)}),s.rT),e.length||delete i[t]},A=function(e,t){o.__(e,(function(t,n){p(f,t)&&e.splice(n,1)}),s.rT),e.length||delete i[t]};c?i[c]&&d(i[c],c):f&&u.__(i,A)}else n.listeners={}}has(e,t){let n=this.listeners,i=r.Yj(e)?this.parse(e):e,a=i.type,c=i.ns,f=s.rT,l=h(t);var d;return a?n[a]&&(d=n[a],o.__(d,(function(e){if(l(e))return f=s.W8}))):c&&u.__(n,(function(e){return o.__(e,(function(e){if(p(c,e))return f=s.W8})),f})),!f}parse(e){const t={type:e,ns:s.u1};if(this.ns){const n=c.qh(e,s.ZG);n>=0&&(t.type=c.di(e,0,n),t.ns=c.di(e,n+1))}return t}}function l(){return s.rT}function h(e){return r.Pc(e)?function(t){return e===t.fn}:l}function p(e,t,n){const{ns:r}=t;return r&&e?r===e:n?s.rT:s.W8}var d=n(3395);const A="request";class m extends f{constructor(e){super(!0),this.port=e,this.port.onmessage=this.handle.bind(this),this.seq=0,this.requestMap=new Map,this.port.start(),this.closed=!1}handle(e){const t=e.data,n=t.type,r=t.data;if("notify"===n)this.fire("notify",r);else if("reply"===n){const e=this.requestMap.get(r.seq);e&&((0,d.A)(r.result)?e.resolve(r.result):r.error?e.reject(r.error):e.resolve(void 0),this.requestMap.delete(r.seq))}else"request"===n&&this.fire(A,r)}notify(e,t={},n=[]){this.port.postMessage({type:"notify",data:{method:e,params:t}},n)}async request(e,t={},n=[]){return new Promise(((r,o)=>{const s=this.seq++;this.requestMap.set(s,{resolve:r,reject:o}),this.port.postMessage({type:"request",data:{seq:s,method:e,params:t}},n)}))}reply(e,t,n,r=[]){const o={seq:e.seq};(0,d.A)(t)?o.result=t:n&&(o.error=n),r?.length?this.port.postMessage({type:"reply",data:o},r):this.port.postMessage({type:"reply",data:o})}getPort(){return this.port}destroy(){this.requestMap.size&&(this.requestMap.forEach((e=>{e.reject("ipc port close")})),this.requestMap.clear()),this.port&&(this.port.close(),this.port=null),this.closed=!0}}},9995:(e,t,n)=>{"use strict";n.d(t,{A:()=>o});var r=n(2689);class o extends r.Ay{constructor(e){super(e),this.port.on("message",this.handle.bind(this))}}},2810:(e,t,n)=>{"use strict";n.d(t,{A:()=>r});class r{constructor(e){this.timeout=e}then(e,t){this.resolve=e,this.reject=t,this.startTime=Date.now(),this.timer=setTimeout((()=>{this.resolve(Date.now()-this.startTime),this.timer=null}),1e3*this.timeout)}stop(e=!0){this.timer&&(clearTimeout(this.timer),this.timer=null,this.resolve&&e?this.resolve(Date.now()-this.startTime):this.reject&&!e&&this.reject(Date.now()-this.startTime))}reset(e){e&&(this.timeout=e),this.timer&&(clearTimeout(this.timer),this.timer=setTimeout((()=>{this.resolve(Date.now()-this.startTime),this.timer=null}),1e3*this.timeout))}}},397:(e,t,n)=>{"use strict";n.d(t,{TF:()=>u,VC:()=>a,__:()=>s,zy:()=>c});var r=n(3818),o=n(8658);function s(e,t,n){if(!e)return;const{length:r}=e;if(r)if(n)for(let n=r-1;n>=0&&t(e[n],n)!==o.W8;n--);else for(let n=0;n<r&&t(e[n],n)!==o.W8;n++);}function i(e,t){e[e.length]=t}function a(e,t){!function(e,t,n){r.YO(t)?s(t,(function(t){n(e,t)})):n(e,t)}(e,t,i)}function u(e,t,n){let r=0;return s(e,(function(s,i){(n===o.W8?s==t:s===t)&&(e.splice(i,1),r++)}),o.rT),r}function c(e,t,n){return function(e,t,n){let r=o.Cy;return s(e,(function(e,s){if(n===o.W8?e==t:e===t)return r=s,o.W8})),r}(e,t,n)>=0}},249:(e,t,n)=>{"use strict";n.d(t,{E_:()=>s});var r=n(397);const o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function s(e){const t="function"==typeof atob?atob(e):function(e){function t(e){const t=o.indexOf(e);return-1===t?0:t}let n="";for(let r=0;r<e.length;){const o=t(e[r++]),s=t(e[r++]),i=t(e[r++]),a=t(e[r++]),u=o<<2|s>>4,c=(15&s)<<4|i>>2,f=(3&i)<<6|a;n+=String.fromCharCode(u),64!==i&&(n+=String.fromCharCode(c)),64!==a&&(n+=String.fromCharCode(f))}return n}(e),n=new Uint8Array(t.length);for(let e=0;e<t.length;e++)n[e]=t.charCodeAt(e);return n}const i={};r.__(["A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","0","1","2","3","4","5","6","7","8","9","+","/"],((e,t)=>{i[e]=t}))},318:(e,t,n)=>{"use strict";n.d(t,{A:()=>h});var r=n(397),o=n(3818),s=n(8102);function i(e,t,n=!1){const r=t.split("."),o=e.split(".");for(let e=0;e<o.length;e++){if(n&&e==o.length-1&&(0,s.A)(o[e])>=(0,s.A)(r[e]))return o.length>=r.length;if((0,s.A)(o[e])>(0,s.A)(r[e]))return!0;if((0,s.A)(o[e])<(0,s.A)(r[e]))return!1;if(e===r.length-1&&e===o.length-1)return n;if(e===r.length-1)return!0;if(e===o.length-1)return!1}return!0}function a(e){return o.Yj(e)&&e.split(".").shift()||""}const u=[["alipay",/alipay/],["wechat",/micromessenger/],["dingtalk",/dingtalk[ \/]([\d_.]+)/],["baiduApp",/baiduboxapp/],["baidu",/baidubrowser/],["baidu",/bdbrowser/],["uc",/ucbrowser/],["uc",/ucweb/],["qq",/qqbrowser/],["qqApp",/qq/],["ie",/iemobile[ \/]([\d_.]+)/],["ie",/msie[ \/]([\d_.]+)/],["ie",/trident[ \/]([\d_.]+)/,4],["edge",/edge[ \/]([\d_.]+)/],["newEdge",/edg[ \/]([\d_.]+)/],["chrome",/chrome[ \/]([\d_.]+)/],["firefox",/firefox[ \/]([\d_.]+)/],["opera",/opera(?:.*version)?[ \/]([\d_.]+)/],["safari",/version[ \/]([\d_.]+) safari/],["safari",/version[ \/]([\d_.]+) \S* safari/],["safari",/safari/]],c={},f={},l=function(e){let t,n;return(0,r.__)(u,(r=>{let o=r[1].exec(e);if(o)return t=r[0],n=o[1],n&&(n=n.replace(/_/g,"."),r[2]&&(n=parseInt(n,10)+r[2]+".0")),!1})),{name:t||"",version:n||"",majorVersion:(c[t]||a)(n),checkVersion:f[t]||i}}(("object"==typeof navigator&&navigator.userAgent||"").toLowerCase());l.name&&(l[l.name]=!0);const h=l},8658:(e,t,n)=>{"use strict";n.d(t,{Cq:()=>s,Cy:()=>a,M_:()=>h,TK:()=>p,W8:()=>o,ZG:()=>f,ZH:()=>i,aV:()=>u,jf:()=>l,rT:()=>r,s0:()=>c,u1:()=>A,x7:()=>d});const r=!0,o=!1,s=null,i=void 0,a=-1,u="undefined",c="function",f=".",l=typeof window!==u?window:i,h=(typeof document!==u&&document,typeof globalThis!==u?globalThis:typeof global!==u?global:l),p=typeof self!==u?self:h,d=function(){},A=(Object.freeze({}),Object.freeze([]),"")},3818:(e,t,n)=>{"use strict";n.d(t,{Ik:()=>i,Pc:()=>o,YO:()=>s,Yj:()=>a,ai:()=>u,sH:()=>c});var r=n(8658);function o(e){return typeof e===r.s0}function s(e){return Array.isArray(e)}function i(e){return e!==r.Cq&&"object"==typeof e}function a(e){return"string"==typeof e}function u(e){return"number"==typeof e&&!isNaN(e)}function c(e){return u(e)||a(e)&&!isNaN(parseFloat(e))&&isFinite(+e)}},4500:(e,t,n)=>{"use strict";n.d(t,{__:()=>s});var r=n(8658);const o={};function s(e,t){const n=o.hasOwnProperty(e)?o[e]:o[e]=e.split(r.ZG);for(let e=0,o=n.length-1;e<=o&&t(n[e],e===o)!==r.W8;e++);}},2102:(e,t,n)=>{"use strict";n.d(t,{R8:()=>A,h2:()=>m});var r=n(8658),o=n(7186);const s=0,i=3,a=4,u=5,c=typeof console!==r.aV?console:r.Cq,f=/common/.test((0,o.A)(r.x7))?2:i,l=(r.jf&&/edge|msie|trident/i.test(r.jf.navigator.userAgent),r.u1),h=c?l?function(e,t,n){c.log(l+e,n,t)}:function(e,t){c.log(e,t)}:r.x7;function p(){if(r.M_){const e=r.TK.COMMON_LOG_LEVEL;if(e>=s&&e<=u)return e}return f}function d(e){return`background-color:${e};border-radius:12px;color:#fff;font-size:10px;padding:3px 6px;`}function A(e,t,n){p()<=i&&h(`[${arguments[1]}][line ${arguments[2]}] [warn]`,e,d("#f90"))}function m(e,t,n){if(p()<=u)throw function(e,t,n){p()<=a&&h(`[${arguments[1]}][line ${arguments[2]}] [error]`,e,d("#ed4014"))}(e,t,n),new Error(`[${arguments[1]}][line ${arguments[2]}] [fatal]: ${e}`)}},5533:(e,t,n)=>{"use strict";n.d(t,{C:()=>c,X$:()=>u,__:()=>i});var r=n(3818),o=n(397),s=n(8658);function i(e,t){for(let n in e)if(t(e[n],n)===s.W8)break}function a(e,t){return r.Ik(e)?r.Ik(t)?(i(t,(function(t,n){e[n]=t})),e):e:t}function u(e,t,n){return a(a(e,t),n)}function c(e,t){let n=e;return r.YO(e)?t?(n=[],o.__(e,(function(e,r){n[r]=c(e,t)}))):n=e.slice():r.Ik(e)&&(n={},i(e,(function(e,r){n[r]=t?c(e,t):e}))),n}},3251:(e,t,n)=>{"use strict";n.d(t,{di:()=>s,qh:()=>i,zy:()=>a});var r=n(3818),o=n(8658);function s(e,t,n){return r.ai(n)?t===n?o.u1:e.slice(t,n):e.slice(t)}function i(e,t,n){return e.indexOf(t,n!==o.ZH?n:0)}function a(e,t){return i(e,t)>=0}},883:(e,t,n)=>{"use strict";n.d(t,{A:()=>o});var r=n(318);const o=function(){let e="function"==typeof Blob,t="object"==typeof WebAssembly&&"function"==typeof WebAssembly.instantiate,n="function"==typeof fetch,o="object"==typeof document&&document.createElement("canvas"),s=o&&!!o.getContext("webgl"),i="function"==typeof OffscreenCanvas,a="function"==typeof Worker,u="function"==typeof ArrayBuffer,c="object"==typeof Atomics,f="function"==typeof AudioContext||"function"==typeof webkitAudioContext,l="function"==typeof AudioWorklet,h="function"==typeof VideoDecoder,p="function"==typeof AudioDecoder,d="function"==typeof SharedArrayBuffer,A="function"==typeof MediaSource||"function"==typeof ManagedMediaSource,m="function"==typeof Proxy,g=a&&d&&c&&m;r.A.safari&&!r.A.checkVersion(r.A.majorVersion,"11",!0)&&(t=!1),r.A.chrome&&!r.A.checkVersion(r.A.majorVersion,"94",!0)&&(h=!1,p=!1),r.A.safari&&!r.A.checkVersion(r.A.majorVersion,"17",!0)&&(h=!1);let y="object"==typeof navigator&&"object"==typeof navigator.gpu,w="function"==typeof MediaSourceHandle,_=t&&"function"==typeof WebAssembly.Global;return{browser:r.A,blob:e,wasm:t,fetch:n,webgl:s,worker:a,mse:A,arrayBuffer:u,audioContext:f,audioWorklet:l,videoDecoder:h,audioDecoder:p,atomics:c,shareArrayBuffer:d,thread:g,webgpu:y,offscreenCanvas:i,workerMSE:w,webAssemblyGlobal:_,proxy:m,simd:r.A.chrome&&r.A.checkVersion(r.A.majorVersion,"91",!0)||r.A.firefox&&r.A.checkVersion(r.A.majorVersion,"89",!0)||r.A.safari&&r.A.checkVersion(r.A.version,"16.4",!0),baseSupported:n&&t&&s&&f&&u&&_}}()},8409:(e,t,n)=>{"use strict";n.d(t,{D:()=>o}),"function"==typeof TextEncoder&&new TextEncoder;const r="function"==typeof TextDecoder?new TextDecoder:null;function o(e){if(e instanceof Uint8Array&&r&&!("function"==typeof SharedArrayBuffer&&e.buffer instanceof SharedArrayBuffer))return r.decode(e);let t="";for(let n=0;n<e.length;){let r=e[n++>>>0];if(!(128&r)){t+=String.fromCharCode(r);continue}let o=63&e[n++>>>0];if(192==(224&r)){t+=String.fromCharCode((31&r)<<6|o);continue}let s=63&e[n++>>>0];if(r=224==(240&r)?(15&r)<<12|o<<6|s:(7&r)<<18|o<<12|s<<6|63&e[n++>>>0],r<65536)t+=String.fromCharCode(r);else{let e=r-65536;t+=String.fromCharCode(55296|e>>10,56320|1023&e)}}return t}},94:(e,t,n)=>{"use strict";n.d(t,{DD:()=>u});var r=n(1149),o=n(8409);class s{constructor(e,t=!0){this.buffer=e,this.data=e instanceof Uint8Array?new DataView(e.buffer):e.view,this.byteStart=e instanceof Uint8Array?e.byteOffset:0,this.pos=0,this.size=e.byteLength,this.littleEndian=!t}readUint8(){return this.data.getUint8(this.pos+++this.byteStart)}readUint16(){const e=this.data.getUint16(this.pos+this.byteStart,this.littleEndian);return this.pos+=2,e}readUint24(){return this.readUint16()<<8|this.readUint8()}readUint32(){const e=this.data.getUint32(this.pos+this.byteStart,this.littleEndian);return this.pos+=4,e}readUint64(){const e=BigInt(this.readUint32()),t=BigInt(this.readUint32());return this.littleEndian?t<<32n|e:e<<32n|t}readInt8(){return this.data.getInt8(this.pos+++this.byteStart)}readInt16(){const e=this.data.getInt16(this.pos+this.byteStart,this.littleEndian);return this.pos+=2,e}readInt32(){const e=this.data.getInt32(this.pos+this.byteStart,this.littleEndian);return this.pos+=4,e}readInt64(){const e=BigInt(this.readInt32()),t=BigInt(this.readInt32());return this.littleEndian?t<<32n|e:e<<32n|t}readFloat(){const e=this.data.getFloat32(this.pos+this.byteStart,this.littleEndian);return this.pos+=4,e}readDouble(){const e=this.data.getFloat64(this.pos+this.byteStart,this.littleEndian);return this.pos+=8,e}readHex(e=1){let t="";for(let n=0;n<e;n++){const e=this.readUint8().toString(16);t+=1===e.length?"0"+e:e}return t}readString(e=1){let t="";if(e){let n=this.pos;for(let t=0;t<e&&0===this.buffer[this.pos+t];t++)n++;t=o.D(this.buffer.subarray(n,n+e))}return this.pos+=e,t}readLine(){let e="";for(let t=this.pos;t<this.size;t++)if(10===this.buffer[t]||13===this.buffer[t]){e+=this.readString(t-this.pos);break}for(let e=this.pos;e<this.size&&(10===this.buffer[e]||13===this.buffer[e]);e++)this.readUint8();return e}getPos(){return this.pos}seek(e){e>this.size&&(e=this.size),this.pos=Math.max(0,e)}skip(e){this.seek(this.pos+e)}back(e){this.seek(this.pos-e)}remainingSize(){return this.size-this.pos}readBuffer(e){e=Math.min(e,this.remainingSize());const t=this.buffer.slice(this.pos,this.pos+e);return this.pos+=e,t}appendBuffer(e){this.buffer=(0,r.A)(Uint8Array,[this.buffer.slice(),e.slice()]),this.data=new DataView(this.buffer.buffer),this.size+=e.byteLength,this.byteStart=0}resetBuffer(e,t=!0){this.buffer=e,this.data=e instanceof Uint8Array?new DataView(e.buffer):e.view,this.byteStart=e instanceof Uint8Array?e.byteOffset:0,this.pos=0,this.size=e.byteLength,this.littleEndian=!t}}function i(e){let t=0,n=0;for(;;){const r=e.readUint8();if(t|=(127&r)<<n,n+=7,!(128&r))break}return t}function a(e){let t,n=0,r=0;for(;t=e.readUint8(),n|=(127&t)<<r,r+=7,128&t;);return 64&t&&(n|=-1<<r),n}function u(e,t){const n=new s(e,!0);for(n.skip(8);n.remainingSize();){const r=n.readUint8(),o=i(n);if(2===r){let r=i(n);for(;r--;){const r=i(n);n.skip(r);const o=i(n);switch(n.skip(o),n.readUint8()){case 0:i(n);break;case 3:a(n),i(n);break;case 2:{const r=n.getPos();return void(e[r]=t?2|e[r]:-3&e[r])}case 1:{a(n);const e=i(n);i(n),1&e&&i(n);break}}}return}n.skip(o)}}},503:(e,t,n)=>{"use strict";n.d(t,{A:()=>f});var r=n(1510),o=n(1676),s=n(9761),i=n(7741),a=n(9852),u=n(6779),c=n(2810);async function f(e){const t=(0,o.A)(e,r.A);for(;;){for((0,i.s2)(e+16);!s.f[8](e)&&!s.f[15](e+28);)(0,a.uk)(e+24,e+16);if(s.f[15](e+28)){(0,i.Tl)(e+16);break}const n=t.shift(15);console.log(`consumer ${u.qs} consume: ${n}`),(0,a.vP)(e+20),(0,i.Tl)(e+16),await new c.A(Math.random())}return 0}},1651:(e,t,n)=>{"use strict";n.r(t);var r=n(3669),o=n(8519),s=n(6779),i=n(564),a=n(5533),u=n(3395),c=n(1676),f=n(503),l=n(2142);const h='\nfunction webpackBootstrapFunc (modules) {\n  var installedModules = {};\n  function __webpack_require__(moduleId) {\n    if(installedModules[moduleId])\n    return installedModules[moduleId].exports;\n    var module = installedModules[moduleId] = {\n      i: moduleId,\n      l: false,\n      exports: {}\n    };\n    if (!modules[moduleId]) {\n      console.log(\'can not found module:\', moduleId)\n    }\n    modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n    module.l = true;\n    return module.exports;\n  }\n  __webpack_require__.m = modules;\n  __webpack_require__.c = installedModules;\n  __webpack_require__.i = function(value) { return value; };\n  __webpack_require__.d = function(exports, definition, getter) {\n    if (typeof definition === \'string\') {\n      if(!__webpack_require__.o(exports, definition)) {\n        Object.defineProperty(exports, definition, {\n          enumerable: true,\n          get: getter\n        });\n      }\n    }\n    else {\n      for(var key in definition) {\n        if(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n          Object.defineProperty(exports, key, {\n            enumerable: true,\n            get: definition[key]\n          });\n        }\n      }\n    }\n  };\n  __webpack_require__.r = function(exports) {\n    if(typeof Symbol !== \'undefined\' && Symbol.toStringTag) {\n    \tObject.defineProperty(exports, Symbol.toStringTag, { value: \'Module\' });\n    }\n    Object.defineProperty(exports, \'__esModule\', { value: true });\n  };\n  __webpack_require__.f = {};\n  __webpack_require__.e = function(chunkId) {\n    return Promise.all(Object.keys(__webpack_require__.f).reduce(function (promises, key) {\n      __webpack_require__.f[key](chunkId, promises);\n        return promises;\n    \t}, []));\n\t};\n  __webpack_require__.u = function(chunkId) {\n    return chunkId + "LIB_NAME";\n  };\n  __webpack_require__.n = function(module) {\n    var getter = module && module.__esModule ?\n      function getDefault() { return module[\'default\']; } :\n      function getModuleExports() { return module; };\n    __webpack_require__.d(getter, \'a\', getter);\n    return getter;\n  };\n  (function() {\n    var installedChunks = {\n      "main": 0\n    };\n    __webpack_require__.f.j = function(chunkId, promises) {\n      var installedChunkData = __webpack_require__.o(installedChunks, chunkId) ? installedChunks[chunkId] : undefined;\n      if (installedChunkData !== 0) {\n        if(installedChunkData) {\n          promises.push(installedChunkData[2]);\n        } else {\n          if (true) {\n            var promise = new Promise(function(resolve, reject){installedChunkData = installedChunks[chunkId] = [resolve, reject]});\n            promises.push(installedChunkData[2] = promise);\n            var url = __webpack_require__.p + __webpack_require__.u(chunkId);\n            var error = new Error();\n            var loadingEnded = function(event) {\n              if(__webpack_require__.o(installedChunks, chunkId)) {\n                installedChunkData = installedChunks[chunkId];\n                if(installedChunkData !== 0) installedChunks[chunkId] = undefined;\n                if(installedChunkData) {\n                  var errorType = event && (event.type === \'load\' ? \'missing\' : event.type);\n                  var realSrc = url;\n                  error.message = "Loading chunk " + chunkId + " failed.\\n(" + errorType + ": " + realSrc + ")";\n                  error.name = "ChunkLoadError";\n                  error.type = errorType;\n                  error.request = realSrc;\n                  installedChunkData[1](error);\n                }\n              }\n            };\n            __webpack_require__.l(url, loadingEnded);\n          }\n        }\n      }\n    };\n    var webpackJsonpCallback = function(parentChunkLoadingFunction, data) {\n    var [chunkIds, moreModules, runtime] = data;\n    var moduleId, chunkId, i = 0;\n    if (chunkIds.some(function(id){return installedChunks[id] !== 0})) {\n      for(moduleId in moreModules) {\n        if(__webpack_require__.o(moreModules, moduleId)) {\n          __webpack_require__.m[moduleId] = moreModules[moduleId];\n        }\n      }\n      if(runtime) runtime(__webpack_require__);\n    }\n    if (parentChunkLoadingFunction) parentChunkLoadingFunction(data);\n      for (;i < chunkIds.length; i++) {\n        chunkId = chunkIds[i];\n        if (__webpack_require__.o(installedChunks, chunkId) && installedChunks[chunkId]) {\n          installedChunks[chunkId][0]();\n        }\n        installedChunks[chunkId] = 0;\n      }\n    }\n    var self = typeof globalThis !== undefined ? globalThis : self\n    var chunkLoadingGlobal = self["webpackChunkAVPlayer"] = self["webpackChunkAVPlayer"] || [];\n    chunkLoadingGlobal.forEach(webpackJsonpCallback.bind(null, 0));\n    chunkLoadingGlobal.push = webpackJsonpCallback.bind(null, chunkLoadingGlobal.push.bind(chunkLoadingGlobal));\n  })();\n  (function() {\n    var inProgress = {};\n    __webpack_require__.l = function(url, done) {\n      if (inProgress[url]) { inProgress[url].push(done); return; }\n        inProgress[url] = [done];\n        var onComplete = function(event) {\n          clearTimeout(timeout);\n          var doneFns = inProgress[url];\n          delete inProgress[url];\n          doneFns && doneFns.forEach(function(fn){fn(event)});\n        }\n        var timeout = setTimeout(onComplete.bind(null, undefined, { type: "timeout" }), 120000);\n      import(url).then(function() {\n        onComplete({\n          type: "load"\n        })\n      }, function (error) {\n        onComplete({\n          type: "missing"\n        })\n      });\n    };\n  })();\n  __webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n  __webpack_require__.p = "ROOT_URL";\n  __webpack_require__.oe = function(err) { console.error(err); throw err; };\n  var f = __webpack_require__(__webpack_require__.s = ENTRY_MODULE);\n  return f;\n}\n',p="[\\.|\\-|\\+|\\w|/|@|!]+",d="\\(\\s*(/\\*.*?\\*/)?\\s*.*?("+p+").*?\\)";function A(e){return(e+"").replace(/[.?*+^$[\]\\(){}|-]/g,"\\$&")}function m(e,t,r,o){const s={};s[r]=[];let i=t.toString();const a=i.match(/^(function)?\s?\w*\(\w+,\s*(\w+),\s*(\w+)\)/);if(!a)return s;const u=a[3];o.__webpack_exports_process__||(o.__webpack_require__=u,o.__webpack_exports__=a[2],o.__webpack_exports_process__=!0);let c,f=new RegExp("(\\\\n|\\W)"+A(u)+d,"g");for(;c=f.exec(i);)"dll-reference"!==c[3]&&s[r].push(c[3]);for(f=new RegExp("\\("+A(u)+'\\("(dll-reference\\s('+p+'))"\\)\\)'+d,"g");c=f.exec(i);)e[c[2]]||(s[r].push(c[1]),e[c[2]]=n(c[1]).m),s[c[2]]=s[c[2]]||[],s[c[2]].push(c[4]);const l=Object.keys(s);for(let e=0;e<l.length;e++)for(let t=0;t<s[l[e]].length;t++)h=+s[l[e]][t],isNaN(h)||(s[l[e]][t]=+s[l[e]][t]);var h;return s}function g(e){return Object.keys(e).reduce((function(t,n){return t||e[n].length>0}),!1)}function y(e,t){const r={main:n.m},o=function(e,t){const n={main:[t]},r={main:[],__webpack_exports__:"__webpack_exports__",__webpack_require__:"__webpack_require__",__webpack_exports_process__:!1},o={main:{}};for(;g(n);){const t=Object.keys(n);for(let s=0;s<t.length;s++){let i=t[s],a=n[i].pop();if(o[i]=o[i]||{},o[i][a]||!e[i][a])continue;o[i][a]=!0,r[i]=r[i]||[],r[i].push(a);let u=m(e,e[i][a],i,r),c=Object.keys(u);for(let e=0;e<c.length;e++)n[c[e]]=n[c[e]]||[],n[c[e]]=n[c[e]].concat(u[c[e]])}}return r}(r,e);let s=JSON.stringify(e);return"var "+t.varName+"=("+h.replace("ENTRY_MODULE",s).replace("ROOT_URL",n.p||"").replace("LIB_NAME",n.u&&n.u("")||"")+")({"+o.main.map((function(e){const n=JSON.stringify(e);let i=n+": "+r.main[e].toString();if(n===s&&t.exportName&&t.pointName){const e=`;${o.__webpack_require__}.d(\n          ${o.__webpack_exports__},\n          "${t.exportName}",\n          function() {\n            if (${t.exportIsClass}) {\n              for (var key in ${o.__webpack_exports__}) {\n                if (key === '${t.exportName}') {\n                  continue;\n                }\n                var v = ${o.__webpack_exports__}[key];\n                if (typeof v === 'function' && v.name === '${t.pointName}') {\n                  return v;\n                }\n              }\n            }\n            return ${t.pointName};\n          }\n        );`;i=i.slice(0,i.length-1)+e+"}"}return i})).join(",")+"});"}var w=n(8439),_=n(3818),b=n(8658);let x=b.TK.Worker,k=b.TK.MessageChannel;{const{Worker:e,MessageChannel:t}=n(3566);x=e,k=t}n(5268),n(786),n(6894),y(5268,{varName:"init"});const C=y(786,{varName:"init"}),v=(y(6894,{varName:"init"}),Symbol("revoke")),I=new Map;function T(e,t){return`${e}_${t}`}function M(e,t={},r){let o,i=[];function a(...t){return new Promise(((n,o)=>{const s={$worker:null,$moduleId:r,$stackPointer:null,$type:"function"};n(s),s.$retval=new Promise((n=>{n(e(...t))}))}))}return o=(...o)=>{let a;if(r instanceof x)a=r;else{let t;const o=T(r,"function");if(I.has(o))t=I.get(o).url,I.get(o).refCount++;else{const s=`\n            ${y(r,{varName:`__module_${e.name}__`,exportName:`__${e.name}__`,pointName:e.name})}\n            function run(params) {\n              return __module_${e.name}__.__${e.name}__.apply(global, params)\n            }\n            ${C}\n            init.default(run);\n          `;t=`./cheap_${function(){let e=(new Date).getTime();return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(t){let n=(e+16*Math.random())%16|0;return e=Math.floor(e/16),("x"==t?n:3&n|8).toString(16)}))}()}.js`,n(9021).writeFileSync(t,s),I.set(o,{url:t,refCount:1})}a=new x(t)}return new Promise(((n,u)=>{const c=s.s_.alignedAlloc(w.ZI,t.stackSize?t.stackSize+w.ZI&~w.ZI:w.pw),f=e=>{const t=e,s=t.type;t.data,"ready"===s&&(a.postMessage({type:"run",data:{params:o}},i),n({$worker:a,$moduleId:r,$stackPointer:c,$type:"function"}))};a.on("message",f),a.onmessage=f,a.postMessage({type:"init",data:{memory:s.ce,name:t.name||e.name,stackPointer:c,stackSize:t.stackSize??w.pw}})}))},{run:w._7&&!t.disableWorker?o:a,transfer:function(...e){return i=e,{run:w._7&&!t.disableWorker?o:a}}}}async function E(e){return e.$worker?new Promise((t=>{e.$worker.removeAllListeners("message"),e.$worker.on("message",(function(r){const o=r,i=o.type,a=o.data;"stopped"===i&&(function(e){if(e.$worker&&(e.$worker.terminate(),e.$worker=null),e.$moduleId){if(_.Yj(e.$moduleId)){const t=T(e.$moduleId,e.$type);I.has(t)&&(I.get(t).refCount--,0===I.get(t).refCount)&&(n(9021).unlinkSync(I.get(t).url),I.delete(t))}e.$moduleId=null}if(e.$ipc&&(e.$ipc.destroy(),e.$ipc=null),e.$stackPointer&&(s.s_.free(e.$stackPointer),e.$stackPointer=0),e.$channel=null,e.$instance=null,e[v]){const t=e[v];e[v]=null,t()}}(e),t(a))})),e.$worker.postMessage({type:"stop"})})):e.$retval?e.$retval:void 0}var B,S,P=n(1879),$=n(1510),O=n(7741),j=n(9852);class H{}B=H.prototype,(S=new Map).set("queue",{0:$.A,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0}),S.set("max",{0:8,1:0,2:0,3:0,4:0,5:0,6:0,7:12,8:0}),S.set("mutex",{0:O.eu,1:0,2:0,3:0,4:0,5:0,6:0,7:16,8:0}),S.set("full_cond",{0:j.LB,1:0,2:0,3:0,4:0,5:0,6:0,7:20,8:0}),S.set("empty_cond",{0:j.LB,1:0,2:0,3:0,4:0,5:0,6:0,7:24,8:0}),S.set("endFlag",{0:15,1:0,2:0,3:0,4:0,5:0,6:0,7:28,8:0}),(0,P.A)(B,r.Og,!0),(0,P.A)(B,r.dc,4),(0,P.A)(B,r.g7,32),(0,P.A)(B,r.JY,S);const q=require("os");var L=n(2810);!async function(){const e=function(e,t){const n=(0,o.A)(e),r=s.s_.malloc(n);if(!r)throw new TypeError("cannot alloc memory for struct");(0,i.sO)(r,0,n);const f=(0,c.A)(r,e),l=new e;return a.__(l,((e,t)=>{(0,u.A)(e)&&(f[t]=e)})),f}(H);e.endFlag=0,e.max=7,O.Ts(e[r.o9]+16),j.Ts(e[r.o9]+24),j.Ts(e[r.o9]+20);const t=await M(l.A,{},2142).run(e[r.o9]),n=await Promise.all(new Array(q.cpus().length-1).fill(0).map((()=>M(f.A,{},503).run(e[r.o9]))));await new L.A(300),e.endFlag=1,j.mq(e[r.o9]+24),j.mq(e[r.o9]+20),await E(t);const h=await Promise.all(n.map((e=>E(e))));console.log(h),console.log("end")}()},2142:(e,t,n)=>{"use strict";n.d(t,{A:()=>f});var r=n(1510),o=n(1676),s=n(9761),i=n(7741),a=n(9852),u=n(2810),c=n(6779);async function f(e){let t=0;const n=(0,o.A)(e,r.A);for(;;){for((0,i.s2)(e+16);s.f[8](e)===s.f[8](e+12)&&!s.f[15](e+28);)(0,a.uk)(e+20,e+16);if(s.f[15](e+28)){(0,i.Tl)(e+16);break}const r=t++;console.log(`producer ${c.qs} produce: ${r}`),n.push(r,15),(0,a.vP)(e+24),(0,i.Tl)(e+16),await new u.A(Math.random())}return 0}},1128:e=>{e.exports="AGFzbQEAAAABKQhgAn9/AGACf34AYAJ/fQBgAn98AGABfwF/YAF/AX5gAX8BfWABfwF8AhIBA2VudgZtZW1vcnkCAQGAgAIDDw4AAAABAgMEBAQEBAUGBweIAQ4Gd3JpdGU4AAAHd3JpdGUxNgABB3dyaXRlMzIAAgd3cml0ZTY0AAMId3JpdGVmMzIABAh3cml0ZWY2NAAFBXJlYWQ4AAYGcmVhZFU4AAcGcmVhZDE2AAgHcmVhZFUxNgAJBnJlYWQzMgAKBnJlYWQ2NAALB3JlYWRmMzIADAdyZWFkZjY0AA0KfQ4JACAAIAE6AAALCQAgACABOwEACwkAIAAgATYCAAsJACAAIAE3AwALCQAgACABOAIACwkAIAAgATkDAAsHACAALAAACwcAIAAtAAALBwAgAC4BAAsHACAALwEACwcAIAAoAgALBwAgACkDAAsHACAAKgIACwcAIAArAwAL"},7681:e=>{e.exports="AGFzbQEAAAABLAdgAX8Bf2ABfwF+YAJ/fwF/YAJ/fgF+YAN/f38Bf2ADf35+AX5gA39/fgF/AhIBA2VudgZtZW1vcnkCAwGAgAIDKCcAAAABAgICAwICAgMCAgIDAgICAwICAgMCAgIDAgICAwQEBAUCAgYHhgMnBWxvYWQ4AAAGbG9hZDE2AAEGbG9hZDMyAAIGbG9hZDY0AAMGc3RvcmU4AAQHc3RvcmUxNgAFB3N0b3JlMzIABgdzdG9yZTY0AAcEYWRkOAAIBWFkZDE2AAkFYWRkMzIACgVhZGQ2NAALBHN1YjgADAVzdWIxNgANBXN1YjMyAA4Fc3ViNjQADwRhbmQ4ABAFYW5kMTYAEQVhbmQzMgASBWFuZDY0ABMDb3I4ABQEb3IxNgAVBG9yMzIAFgRvcjY0ABcEeG9yOAAYBXhvcjE2ABkFeG9yMzIAGgV4b3I2NAAbCWV4Y2hhbmdlOAAcCmV4Y2hhbmdlMTYAHQpleGNoYW5nZTMyAB4KZXhjaGFuZ2U2NAAfEWNvbXBhcmVfZXhjaGFuZ2U4ACASY29tcGFyZV9leGNoYW5nZTE2ACESY29tcGFyZV9leGNoYW5nZTMyACISY29tcGFyZV9leGNoYW5nZTY0ACMGbm90aWZ5ACQEd2FpdAAlC3dhaXRUaW1lb3V0ACYKugMnCAAgAP4SAAALCAAgAP4TAQALCAAgAP4QAgALCAAgAP4RAwALDAAgACAB/hkAACABCwwAIAAgAf4aAQAgAQsMACAAIAH+FwIAIAELDAAgACAB/hgDACABCwoAIAAgAf4gAAALCgAgACAB/iEBAAsKACAAIAH+HgIACwoAIAAgAf4fAwALCgAgACAB/icAAAsKACAAIAH+KAEACwoAIAAgAf4lAgALCgAgACAB/iYDAAsKACAAIAH+LgAACwoAIAAgAf4vAQALCgAgACAB/iwCAAsKACAAIAH+LQMACwoAIAAgAf41AAALCgAgACAB/jYBAAsKACAAIAH+MwIACwoAIAAgAf40AwALCgAgACAB/jwAAAsKACAAIAH+PQEACwoAIAAgAf46AgALCgAgACAB/jsDAAsKACAAIAH+QwAACwoAIAAgAf5EAQALCgAgACAB/kECAAsKACAAIAH+QgMACwwAIAAgASAC/koAAAsMACAAIAEgAv5LAQALDAAgACABIAL+SAIACwwAIAAgASAC/kkDAAsKACAAIAH+AAIACwwAIAAgAUJ//gECAAsMACAAIAEgAv4BAgAL"},9021:e=>{"use strict";e.exports=require("fs")},3566:e=>{"use strict";e.exports=require("worker_threads")}},t={};function n(r){var o=t[r];if(void 0!==o)return o.exports;var s=t[r]={exports:{}};return e[r](s,s.exports,n),s.exports}n.m=e,n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var r=n(1651);module.exports=r})();